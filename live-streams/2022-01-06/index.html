<!doctype html>
<html lang="en-us" data-theme="dark">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
      Flux Harmonic
      
    </title>
    
    
    
    
  <meta property="og:title" content="Creating Our First Image">
  <meta property="og:url" content="https://fluxharmonic.com/live-streams/2022-01-06/">
  
  
  <meta name="twitter:card" content="summary_large_image">

    <link rel="stylesheet" href="https://fluxharmonic.com/static/style.css" type="text/css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lora&family=Space+Mono&display=swap" />
    <script defer data-domain="fluxharmonic.com" src="https://plausible.io/js/plausible.js"></script>
    
  </head>
  <body>
    
    
      <header>
        <a href="https://fluxharmonic.com/">
          <img class="logo" src="https://fluxharmonic.com/static/Flux-Harmonic-Site-Logo.png" alt="Flux Harmonic"/>
        </a>
        <nav>
          <ul>
            <li><a href="https://fluxharmonic.com/live-streams/index.html">Live Streams</a></li>
            <li><a href="https://fluxharmonic.com/how-to-help/">How To Help</a></li>
            <li><a href="https://youtube.com/FluxHarmonicLive">YouTube</a></li>
            <li><a href="https://github.com/FluxHarmonic">GitHub</a></li>
          </ul>
        </nav>
      </header>
    

    
    <main id="main">
      
  <article class="post">
    <h1 class="post__title">
      Creating Our First Image
    </h1>
    <section class="post__meta">
      
        Jan 06, 2022
      
    </section>
    <section>
      <p>
Today's goal: create a basic image and render it to a PNG file!
</p>

<p>
<a href="https://youtu.be/8TdaQhoxqeQ">Watch the recording</a> on YouTube!
</p>

<div id="outline-container-updates" class="outline-2">
<h2 id="updates">Updates</h2>
<div class="outline-text-2">
<ul class="org-ul">
<li>Thanks to Ashraz, we now have lsp-mode (and eglot) working for the C code!</li>
<li>Project Makefiles are now generated by CMake</li>
<li>The generated <code>compile_commands.json</code> feeds <code>ccls</code> information about where project dependencies are</li>
</ul>
</div>
</div>

<div id="outline-container-looking-ahead" class="outline-2">
<h2 id="looking-ahead">Looking Ahead</h2>
<div class="outline-text-2">
<ul class="org-ul">
<li>I <i>really</i> want to abandon SDL2 as soon as I can</li>
<li>Write my own rendering layer with OpenGL and shaders</li>
<li>My goal is to use GLFW to set up rendering context, event loop, and input</li>
<li>The plan: get some things working in SDL2 to validate the model, then drop it</li>
</ul>
</div>
</div>

<div id="outline-container-tasks" class="outline-2">
<h2 id="tasks">Tasks</h2>
<div class="outline-text-2" id="text-tasks">
</div>
<div id="outline-container-figure-out-why-scene-flipping-doesn-t-work-event-problem" class="outline-3">
<h3 id="figure-out-why-scene-flipping-doesn-t-work-event-problem"><span class="done DONE">DONE</span> Figure out why scene flipping doesn't work (event problem?)</h3>
<div class="outline-text-3">
</div>
</div>
<div id="outline-container-flesh-out-the-approach-for-calling-c-functions-to-communicate-scene-data" class="outline-3">
<h3 id="flesh-out-the-approach-for-calling-c-functions-to-communicate-scene-data"><span class="done DONE">DONE</span> Flesh out the approach for calling C functions to communicate scene data</h3>
<div class="outline-text-3">
</div>
</div>
<div id="outline-container-make-sure-that-we-can-re-eval-the-scheme-code-to-update-the-live-preview" class="outline-3">
<h3 id="make-sure-that-we-can-re-eval-the-scheme-code-to-update-the-live-preview"><span class="done DONE">DONE</span> Make sure that we can re-eval the Scheme code to update the live preview</h3>
<div class="outline-text-3">
</div>
</div>
<div id="outline-container-render-the-image-to-a-png-file" class="outline-3">
<h3 id="render-the-image-to-a-png-file"><span class="done DONE">DONE</span> Render the image to a .png file</h3>
<div class="outline-text-3">
</div>
</div>
<div id="outline-container-write-a-function-that-can-convert-html-style-hex-colors-to-rgba" class="outline-3">
<h3 id="write-a-function-that-can-convert-html-style-hex-colors-to-rgba"><span class="todo TODO">TODO</span> Write a function that can convert HTML-style hex colors to RGBA</h3>
</div>
<div id="outline-container-load-and-render-an-image-file" class="outline-3">
<h3 id="load-and-render-an-image-file"><span class="todo TODO">TODO</span> Load and render an image file</h3>
</div>
<div id="outline-container-figure-out-how-to-render-basic-text-on-the-image" class="outline-3">
<h3 id="figure-out-how-to-render-basic-text-on-the-image"><span class="todo TODO">TODO</span> Figure out how to render basic text on the image</h3>
</div>

<div id="outline-container-try-to-clean-up-the-old-scene-memory-when-it-s-no-longer-needed" class="outline-3">
<h3 id="try-to-clean-up-the-old-scene-memory-when-it-s-no-longer-needed"><span class="todo TODO">TODO</span> Try to clean up the old scene memory when it's no longer needed</h3>
</div>
</div>

<div id="outline-container-notes" class="outline-2">
<h2 id="notes">Notes</h2>
<div class="outline-text-2">
<ul class="org-ul">
<li>Creating a "screenshot" of an SDL2 renderer: <a href="https://gist.github.com/malja/2193bd656fe50c203f264ce554919976">https://gist.github.com/malja/2193bd656fe50c203f264ce554919976</a></li>
</ul>
</div>
</div>

<div id="outline-container-results" class="outline-2">
<h2 id="results">Results</h2>
<div class="outline-text-2">
<p>
Here's the image we were able to save today:
</p>

<p>
<a href="https://fluxharmonic.com/static/results/2022-01-06.png">Result image</a>
</p>

<p>
Here is the commit for the code changes from today:
</p>

<p>
<a href="https://github.com/FluxHarmonic/flux-compose/commit/9ea27cdf2cf4940bd09356f8a12f1c9c702f86cf">https://github.com/FluxHarmonic/flux-compose/commit/9ea27cdf2cf4940bd09356f8a12f1c9c702f86cf</a>
</p>
</div>
</div>

<div id="outline-container-next-steps" class="outline-2">
<h2 id="next-steps">Next Steps</h2>
<div class="outline-text-2" id="text-next-steps">
</div>
<div id="outline-container-figure-out-why-the-window-isn-t-the-correct-size" class="outline-3">
<h3 id="figure-out-why-the-window-isn-t-the-correct-size"><span class="todo TODO">TODO</span> Figure out why the window isn't the correct size</h3>
</div>
<div id="outline-container-figure-out-how-to-convert-scheme-string-to-null-terminated-bytevector" class="outline-3">
<h3 id="figure-out-how-to-convert-scheme-string-to-null-terminated-bytevector"><span class="todo TODO">TODO</span> Figure out how to convert Scheme string to null-terminated bytevector</h3>
</div>
<div id="outline-container-finish-writing-function-that-can-convert-html-style-hex-colors-to-rgba" class="outline-3">
<h3 id="finish-writing-function-that-can-convert-html-style-hex-colors-to-rgba"><span class="todo TODO">TODO</span> Finish writing function that can convert HTML-style hex colors to RGBA</h3>
</div>
<div id="outline-container-load-and-render-an-image-file" class="outline-3">
<h3 id="load-and-render-an-image-file"><span class="todo TODO">TODO</span> Load and render an image file</h3>
</div>
<div id="outline-container-figure-out-how-to-render-basic-text-on-the-image" class="outline-3">
<h3 id="figure-out-how-to-render-basic-text-on-the-image"><span class="todo TODO">TODO</span> Figure out how to render basic text on the image</h3>
</div>
<div id="outline-container-try-to-clean-up-the-old-scene-memory-when-it-s-no-longer-needed" class="outline-3">
<h3 id="try-to-clean-up-the-old-scene-memory-when-it-s-no-longer-needed"><span class="todo TODO">TODO</span> Try to clean up the old scene memory when it's no longer needed</h3>
</div>
</div>

    </section>
  </article>

    </main>

    
    
      <footer>&copy; 2021 Flux Harmonic</footer>
    

  </body>
</html>

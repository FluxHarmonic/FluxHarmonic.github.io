<!doctype html>
<html lang="en-us" data-theme="dark">
  <head>
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>
      Flux Harmonic
      
    </title>
    
    
    
    
  <meta property="og:title" content="Building an Entity Component System">
  <meta property="og:url" content="https://fluxharmonic.com/live-streams/2022-03-08/">
  
  
  <meta name="twitter:card" content="summary_large_image">

    <link rel="stylesheet" href="https://fluxharmonic.com/static/style.css" type="text/css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lora&family=Space+Mono&display=swap" />
    <script defer data-domain="fluxharmonic.com" src="https://plausible.io/js/plausible.js"></script>
    
  </head>
  <body>
    
    
      <header>
        <a href="https://fluxharmonic.com/">
          <img class="logo" src="https://fluxharmonic.com/static/Flux-Harmonic-Site-Logo.png" alt="Flux Harmonic"/>
        </a>
        <nav>
          <ul>
            <li><a href="https://fluxharmonic.com/live-streams/index.html">Live Streams</a></li>
            <li><a href="https://fluxharmonic.com/how-to-help/">How To Help</a></li>
            <li><a href="https://youtube.com/FluxHarmonicLive">YouTube</a></li>
            <li><a href="https://github.com/FluxHarmonic">GitHub</a></li>
          </ul>
        </nav>
      </header>
    

    
    <main id="main">
      
  <article class="post">
    <h1 class="post__title">
      Building an Entity Component System
    </h1>
    <section class="post__meta">
      
        Mar 08, 2022
      
    </section>
    <section>
      <p>
<b>Today's goal:</b> Build the foundation of an "Entity Component System" for the game engine!
</p>

<p>
<div class="embed-responsive embed-responsive-16by9"> <iframe class="embed-responsive-item" src="https://www.youtube.com/embed/6Hv4S8wLYi0" allowfullscreen></iframe> </div>
</p>

<div id="outline-container-updates" class="outline-2">
<h2 id="updates">Updates</h2>
<div class="outline-text-2">
<ul class="org-ul">
<li>Texture rendering is now working!</li>
<li>Reorganized and renamed code in the game engine</li>
</ul>
</div>
</div>

<div id="outline-container-developing-a-component-based-engine" class="outline-2">
<h2 id="developing-a-component-based-engine">Developing a component-based engine</h2>
<div class="outline-text-2">
<p>
Today we'll be sketching out the initial design of an <a href="https://en.wikipedia.org/wiki/Entity_component_system">Entity Component System</a> written in Mesche!
</p>

<p>
This is a relatively common design in modern game engines which seeks to break down monolithic game object implementations into a more composable design:
</p>

<ul class="org-ul">
<li>Entity: A game object comprised of behaviors split across components (really just an ID)</li>
<li>Component: The data for an entity that a particular "system" understands</li>
<li>System: The actual code that implements a behavior across a collection of one component type</li>
</ul>

<p>
What's nice about this?
</p>

<ul class="org-ul">
<li>Decoupling of game objects from behavior</li>
<li>Systems can be executed at any time, even on different threads</li>
<li>Enables much better performance when component data is organized appropriately (data-oriented design)</li>
</ul>

<p>
We're going to start with a simple design using the language features we have so far in Mesche and then improve it as we go!
</p>
</div>
</div>

<div id="outline-container-tasks" class="outline-2">
<h2 id="tasks">Tasks</h2>
<div class="outline-text-2" id="text-tasks">
</div>
<div id="outline-container-add-new-objectarray-type-to-mesche" class="outline-3">
<h3 id="add-new-objectarray-type-to-mesche"><span class="done DONE">DONE</span> Add new <code>ObjectArray</code> type to Mesche</h3>
<div class="outline-text-3">
</div>
</div>
<div id="outline-container-create-entity-record-to-store-id" class="outline-3">
<h3 id="create-entity-record-to-store-id"><span class="done DONE">DONE</span> Create <code>entity</code> record to store <code>id</code></h3>
<div class="outline-text-3">
</div>
</div>
<div id="outline-container-create-system-record-to-hold-system-definitions-like-the-update-function" class="outline-3">
<h3 id="create-system-record-to-hold-system-definitions-like-the-update-function"><span class="done DONE">DONE</span> Create <code>system</code> record to hold system definitions (like the <code>update</code> function)</h3>
<div class="outline-text-3">
</div>
</div>
<div id="outline-container-create-physical-component-to-hold-position-size-and-other-physics-attributes" class="outline-3">
<h3 id="create-physical-component-to-hold-position-size-and-other-physics-attributes"><span class="done DONE">DONE</span> Create <code>physical</code> component to hold position, size, and other physics attributes</h3>
<div class="outline-text-3">
</div>
</div>
<div id="outline-container-create-renderable-component-for-sprite-rendering" class="outline-3">
<h3 id="create-renderable-component-for-sprite-rendering"><span class="done DONE">DONE</span> Create <code>renderable</code> component for sprite rendering</h3>
<div class="outline-text-3">
</div>
</div>
<div id="outline-container-create-renderable-system-to-draw-all-renderable-components" class="outline-3">
<h3 id="create-renderable-system-to-draw-all-renderable-components"><span class="done DONE">DONE</span> Create <code>renderable-system</code> to draw all <code>renderable</code> components</h3>
<div class="outline-text-3">
</div>
</div>
</div>

<div id="outline-container-notes" class="outline-2">
<h2 id="notes">Notes</h2>
<div class="outline-text-2">
<p>
The code for this stream can be found here:
</p>

<ul class="org-ul">
<li><a href="https://github.com/FluxHarmonic/crash-the-stack/commit/76654ccb519922381c280eb1ab6ba92447e41768">https://github.com/FluxHarmonic/crash-the-stack/commit/76654ccb519922381c280eb1ab6ba92447e41768</a></li>
<li><a href="https://github.com/mesche-lang/compiler/commit/f4bdb2d00db1cfdecc572c7a39dc704926d88e28">https://github.com/mesche-lang/compiler/commit/f4bdb2d00db1cfdecc572c7a39dc704926d88e28</a></li>
</ul>
</div>
</div>

<div id="outline-container-next-steps" class="outline-2">
<h2 id="next-steps">Next Steps</h2>
</div>

    </section>
  </article>

    </main>

    
    
      <footer>&copy; 2022 Flux Harmonic</footer>
    

  </body>
</html>
